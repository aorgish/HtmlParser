using System;

namespace HtmlParser.Hash
{
    public class HtmlAttributeHash
    {
        static byte[] associationValues = new byte[] {
          /*   0 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /*  10 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /*  20 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /*  30 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /*  40 */   155, 155, 155, 155, 155,      3, 155, 155, 155, 155,
          /*  50 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /*  60 */   155, 155, 155, 155, 155,      9,  37,   1,  22,   3,
          /*  70 */    43,  33,  38,  48, 155,     75,  20,  31,   9,  33,
          /*  80 */    16,  10,   4,   1,   2,     84,  65,  56,  29,  27,
          /*  90 */    79, 155, 155, 155, 155,    155, 155,   9,  37,   1,
          /* 100 */    22,   3,  43,  33,  38,     48, 155,  75,  20,  31,
          /* 110 */     9,  33,  16,  10,   4,      1,   2,  84,  65,  56,
          /* 120 */    29,  27,  79, 155, 155,    155, 155, 155, 155, 155,
          /* 130 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /* 140 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /* 150 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /* 160 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /* 170 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /* 180 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /* 190 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /* 200 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /* 210 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /* 220 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /* 230 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /* 240 */   155, 155, 155, 155, 155,    155, 155, 155, 155, 155,
          /* 250 */   155, 155, 155, 155, 155,    155
         };


        public static HtmlAttribute GetAttribute(char[] content, int offset, int length)
        {
            byte hash = 0;
            int index;

            if (length > 2) {
                index = (int)content[offset + 2] & 0xFF;
                hash += associationValues[index];

                if (length > 4) {
                    index = (int)content[offset + 4] & 0xFF;
                    hash += associationValues[index];

                    if (length > 6)  {
                        index = (int)content[offset + 6] & 0xFF;
                        hash += associationValues[index];
                    }
                }
            }

            index = (int)content[offset + 0] & 0xFF;
            hash += associationValues[index];

            index = (int)content[offset + length - 1] & 0xFF;
            hash += associationValues[index];

            return (HtmlAttribute)hash;
        }

    }
}
